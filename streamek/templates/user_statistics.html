<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitchdle</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles_stats.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container mt-5">
         <!-- Centered Logo Button to Go Back to Main Page -->
        <div class="logo text-center mb-4">
            <a href="/">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Twitchdle" style="width: 300px;"> <!-- Adjust the width as necessary -->
            </a>
        </div>
        <h1 class="text-center">Statystyki użytkownika</h1>

        <!-- Question mark icon for help -->
        <i class="fas fa-question-circle" style="position: fixed; top: 20px; right: 20px; cursor: pointer;" onclick="toggleMessage()"></i>

        <!-- Message box that will appear when the question mark is clicked -->
        <div id="message-box">
            Statystyki są zbierane od września.
        </div>

        <!-- Flexbox container for side-by-side sections -->
        <div class="stats-sections">
            <!-- Categories Statistics Section -->
            <div class="section">
                <h2>Statystyki Klasycznego</h2>
                {% if 'categories' in user_data %}
                <p>Gry rozegrane: <span>{{ user_data['categories'].games_played }}</span></p>
                <p>Gry wygrane: <span>{{ user_data['categories'].games_won }}</span></p>
                <p>Łączna liczba prób: <span>{{ user_data['categories'].total_attempts }}</span></p>
                <p>Średnia liczba prób (Ty): <span>{{ '%.1f' % user_avg_attempts['categories'] }}</span></p>
                <p>Średnia liczba prób (Globalnie): <span>{{ '%.1f' % global_avg_attempts['categories'] }}</span></p>
                <p>Zwycięstwa za pierwszym razem: <span>{{ user_data['categories'].first_try_wins }}</span></p>
                <p>Codzienna seria: <span>{{ user_data['categories'].daily_series }} {% if user_data['categories'].daily_series == 1 %} dzień {% else %} dni {% endif %}</span></p>
                <p>Najdłuższa seria: <span>{{ user_data['categories'].longest_series }} {% if user_data['categories'].longest_series == 1 %} dzień {% else %} dni {% endif %}</span></p>
                <p>Ostatnio grane: <span>{{ user_data['categories'].last_played }}</span></p>
                {% else %}
                <p>Brak danych do wyświetlenia</p>
                {% endif %}
            </div>

            <!-- Emotes Statistics Section -->
            <div class="section">
                <h2>Statystyki Emotek</h2>
                {% if 'emotes' in user_data %}
                <p>Gry rozegrane: <span>{{ user_data['emotes'].games_played }}</span></p>
                <p>Gry wygrane: <span>{{ user_data['emotes'].games_won }}</span></p>
                <p>Łączna liczba prób: <span>{{ user_data['emotes'].total_attempts }}</span></p>
                <p>Średnia liczba prób (Ty): <span>{{ '%.1f' % user_avg_attempts['emotes'] }}</span></p>
                <p>Średnia liczba prób (Globalnie): <span>{{ '%.1f' % global_avg_attempts['emotes'] }}</span></p>
                <p>Zwycięstwa za pierwszym razem: <span>{{ user_data['emotes'].first_try_wins }}</span></p>
                <p>Codzienna seria: <span>{{ user_data['emotes'].daily_series }} {% if user_data['emotes'].daily_series == 1 %} dzień {% else %} dni {% endif %}</span></p>
                <p>Najdłuższa seria: <span>{{ user_data['emotes'].longest_series }} {% if user_data['emotes'].longest_series == 1 %} dzień {% else %} dni {% endif %}</span></p>
                <p>Ostatnio grane: <span>{{ user_data['emotes'].last_played }}</span></p>
                {% else %}
                <p>Brak danych do wyświetlenia</p>
                {% endif %}
            </div>

            <!-- Quotes Statistics Section -->
            <div class="section">
                <h2>Statystyki Cytatów</h2>
                {% if 'quotes' in user_data %}
                <p>Gry rozegrane: <span>{{ user_data['quotes'].games_played }}</span></p>
                <p>Gry wygrane: <span>{{ user_data['quotes'].games_won }}</span></p>
                <p>Łączna liczba prób: <span>{{ user_data['quotes'].total_attempts }}</span></p>
                <p>Średnia liczba prób (Ty): <span>{{ '%.1f' % user_avg_attempts['quotes'] }}</span></p>
                <p>Średnia liczba prób (Globalnie): <span>{{ '%.1f' % global_avg_attempts['quotes'] }}</span></p>
                <p>Zwycięstwa za pierwszym razem: <span>{{ user_data['quotes'].first_try_wins }}</span></p>
                <p>Codzienna seria: <span>{{ user_data['quotes'].daily_series }} {% if user_data['quotes'].daily_series == 1 %} dzień {% else %} dni {% endif %}</span></p>
                <p>Najdłuższa seria: <span>{{ user_data['quotes'].longest_series }} {% if user_data['quotes'].longest_series == 1 %} dzień {% else %} dni {% endif %}</span></p>
                <p>Ostatnio grane: <span>{{ user_data['quotes'].last_played }}</span></p>
                {% else %}
                <p>Brak danych do wyświetlenia</p>
                {% endif %}
            </div>

            <!-- Avatars Statistics Section -->
            <div class="section">
                <h2>Statystyki Awatarów</h2>
                {% if 'avatars' in user_data %}
                <p>Gry rozegrane: <span>{{ user_data['avatars'].games_played }}</span></p>
                <p>Gry wygrane: <span>{{ user_data['avatars'].games_won }}</span></p>
                <p>Łączna liczba prób: <span>{{ user_data['avatars'].total_attempts }}</span></p>
                <p>Średnia liczba prób (Ty): <span>{{ '%.1f' % user_avg_attempts['avatars'] }}</span></p>
                <p>Średnia liczba prób (Globalnie): <span>{{ '%.1f' % global_avg_attempts['avatars'] }}</span></p>
                <p>Zwycięstwa za pierwszym razem: <span>{{ user_data['avatars'].first_try_wins }}</span></p>
                <p>Codzienna seria: <span>{{ user_data['avatars'].daily_series }} {% if user_data['avatars'].daily_series == 1 %} dzień {% else %} dni {% endif %}</span></p>
                <p>Najdłuższa seria: <span>{{ user_data['avatars'].longest_series }} {% if user_data['avatars'].longest_series == 1 %} dzień {% else %} dni {% endif %}</span></p>
                <p>Ostatnio grane: <span>{{ user_data['avatars'].last_played }}</span></p>
                {% else %}
                <p>Brak danych do wyświetlenia</p>
                {% endif %}
            </div>

            <!-- Stats Statistics Section -->
            <div class="section">
                <h2>Statystyki Streama</h2>
                {% if 'stats' in user_data %}
                <p>Gry rozegrane: <span>{{ user_data['stats'].games_played }}</span></p>
                <p>Gry wygrane: <span>{{ user_data['stats'].games_won }}</span></p>
                <p>Łączna liczba prób: <span>{{ user_data['stats'].total_attempts }}</span></p>
                <p>Średnia liczba prób (Ty): <span>{{ '%.1f' % user_avg_attempts['stats'] }}</span></p>
                <p>Średnia liczba prób (Globalnie): <span>{{ '%.1f' % global_avg_attempts['stats'] }}</span></p>
                <p>Zwycięstwa za pierwszym razem: <span>{{ user_data['stats'].first_try_wins }}</span></p>
                <p>Codzienna seria: <span>{{ user_data['stats'].daily_series }} {% if user_data['stats'].daily_series == 1 %} dzień {% else %} dni {% endif %}</span></p>
                <p>Najdłuższa seria: <span>{{ user_data['stats'].longest_series }} {% if user_data['stats'].longest_series == 1 %} dzień {% else %} dni {% endif %}</span></p>
                <p>Ostatnio grane: <span>{{ user_data['stats'].last_played }}</span></p>
                {% else %}
                <p>Brak danych do wyświetlenia</p>
                {% endif %}
            </div>

        </div>
    </div>

    <script>
        // Function to toggle the visibility of the message box
        function toggleMessage() {
            const messageBox = document.getElementById('message-box');
            if (messageBox.style.display === 'none' || messageBox.style.display === '') {
                messageBox.style.display = 'block';
            } else {
                messageBox.style.display = 'none';
            }
        }
    </script>
</body>
</html>
